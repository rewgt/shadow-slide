// shadow-slide ver 0.0.1
!function(){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function K(a){var b={},c=a.split("&");return c.forEach(function(a){if(a){var c=a.split("="),d=c[0].trim();d&&(b[d]=(c[1]||"").trim())}}),b}function L(){var a=K(window.location.search.slice(1)),b=[],c=/-(.)/g;return Object.keys(a).forEach(function(d){var e=a[d],f=d.replace(c,function(a,b){return b.toUpperCase()});if(d!=f&&(b.push(d),d=f),e)if(e=decodeURIComponent(e),e.length<=48){var g=parseFloat(e);"number"==typeof g&&g+""===e?a[d]=g:a[d]=e}else a[d]=e;else a[d]=1}),b.forEach(function(b){delete a[b]}),a}function M(a){if(a.parentNode){var b=a.querySelector('div.rewgt-center > [class*="prebuild-"]');if(b){var c=b.getAttribute("data-prepost")||"",d=c.split("-");d.length>=5&&parseInt(d[4])&&N(l.pageCtrl,l.pageCtrl.pageIndex,!0)}}}function N(b,c,d){function J(){var h,a=y-v,d=y+v+x,e=d+v+v+x,f=a-v-v-x,g=f-v-v-x,i=null,k="";if(B.forEach(function(h,l){var m=!1;h.duals.top=j,l<=c?l==c?(h.duals.left=a,i=h,k=b.keys[c]):l==c-1?h.duals.left=f:l==c-2?h.duals.left=g:m=!0:l==c+1?h.duals.left=d:l==c+2?h.duals.left=e:m=!0,m?(h.duals.left=a,"none"!=h.state.style.display&&(h.duals.style={display:"none"})):"block"!=h.state.style.display&&(h.duals.style={display:"block"})}),i&&k){b.pageIndex=c;var h=i.getHtmlNode();if(h){var l=document.createEvent("Event");l.initEvent("slideenter",!0,!0),l.pageKey=k,l.pageIndex=c,h.dispatchEvent(l),setTimeout(function(){var a=!1;if(a="function"==typeof l.isDefaultPrevented?l.isDefaultPrevented():!!l.defaultPrevented,!a){var c=(C[k]||0)+1;C[k]=c,m?setTimeout(function(){b.enterPage(l,i,1==c)},1e3):b.enterPage(l,i,1==c)}},0)}}}if(b.keys.length)if(E){var e,f=E.widget,g=!1;if(f&&(e=f.parent)&&"function"==typeof E.stepIsDone?E.stepIsDone()&&(g=!0,E=null):E=null,E)return void setTimeout(function(){N(b,c,d)},600);if(g){var h=e.component,i=h&&h.getHtmlNode();i&&M(i)}}else{z=Math.floor(window.innerHeight/2);var j=z-w,k=b.pageIndex,m=!1;if(0==A){m=!0,k=-1,A=1,B=[],o.classList.add("no-trans"),setTimeout(function(){o.classList.remove("no-trans")},1200);var n=v+v,q=w+w,r=[],s={};b.keys.forEach(function(a){var b=p[a];if(b&&(b=b.component)){var c=b.props.name;c&&"string"==typeof c&&(s[c]=B.length),B.push(b),r.push(a)}}),b.keys=r,b.namedPage=s;var t=[];B.forEach(function(a,c){var d=b.initPage(a,r[c],c,n,q,j);F.apply(t,d)}),setTimeout(function(){t.forEach(function(a){l.addClass(a[0],a[1])})},1e3)}else A+=1;var u="undefined"==typeof c?"undefined":a(c);if("string"==u){var G=parseInt(c);G+""==c?(c=G,u="number"):(c=b.namedPage[c],u="undefined"==typeof c?"undefined":a(c))}if("number"==u){var H=b.keys.length;if(H&&(c>=H&&(c=H-1),c<0&&(c=0),c!==k||d)){if(d&&k>=0){var h=B[k];if(h){var I=!h.whenSlideLeave();if(I)return void(D&&E&&setTimeout(function(){N(b,c,d)},300))}}m?setTimeout(function(){J()},0):J()}}}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),c=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},g=window.React,h=window.ReactDOM,i=window.W;g&&h&&i||console.log("fatal error: invalid cdn version of react or shadow-widget.");var j=i.$templates,k=i.$creator,l=i.$utils,n=(i.$ex,i.$main),o=null,p=null,q="/app/rewgt/shadow-slide/web/output",r=function(a){function g(a,b){d(this,g);var c=e(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,a||"rewgt.GotoPage",b));return c._defaultProp["step.play"]=!0,c}return f(g,a),b(g,[{key:"_getGroupOpt",value:function(b){return{type:"mono",editable:"all",baseUrl:q,tools:[]}}},{key:"_getSchema",value:function(b,d){d=d||1200;var e=c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"_getSchema",this).call(this,b,d+200);return e["data-goto"]=[d+1,"string",null,"[string]: +N, -N, N, or named_page"],e}},{key:"getDefaultProps",value:function(){var b=c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"getDefaultProps",this).call(this);return b["step.play"]=!0,b["data-goto"]="+1",b["html."]="GotoPage",b}},{key:"stepPlay",value:function(b){if(!i.__design__){var c=this;setTimeout(function(){var a=!1,b=!1,d=c.state["data-goto"]||"";"+"==d[0]?(a=!0,d=d.slice(1)):"-"==d[0]&&(b=!0,d=d.slice(1));var e=parseInt(d);if(!isNaN(e)||a||b||(e=l.pageCtrl.namedPage[d]),!isNaN(e)){var f=l.pageCtrl.pageIndex;f=a?f+e:b?f-e:e,l.pageCtrl.gotoPage(f)}},300)}}},{key:"stepPause",value:function(b){}},{key:"stepIsDone",value:function(){return!0}},{key:"playOnEnter",value:function(){return!1}},{key:"$onClick",value:function(b){if(!i.__design__&&!l.hasClass(this,"hidden-default")){for(var c=this.getHtmlNode(),d=b.target,e="";d&&!(e=d.getAttribute("data-goto")||"")&&d!==c&&d!==document;)d=d.parentNode;e&&(c!==d&&(this.duals["data-goto"]=e),this.stepPlay(0))}}}]),g}(j.Div_);j.rewgt||(j.rewgt={}),j.rewgt.GotoPage_=r,j.rewgt.GotoPage=new r;var s=function(a){function g(a,b){d(this,g);var c=e(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,a||"rewgt.DelayTimer",b));return c._defaultProp["step.play"]=!0,c}return f(g,a),b(g,[{key:"_getGroupOpt",value:function(b){return{type:"mono",editable:"all",baseUrl:q,tools:[]}}},{key:"_getSchema",value:function(b,d){d=d||1200;var e=c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"_getSchema",this).call(this,b,d+200);return e["data-delay"]=[d+1,"string",null,"[string]: 0 or N seconds"],e["data-auto"]=[d+2,"string",null,'[string]: auto delay when page enter, "" or "1"'],e}},{key:"getDefaultProps",value:function(){var b=c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"getDefaultProps",this).call(this);return b["step.play"]=!0,b["data-delay"]="0",b["data-auto"]="",b}},{key:"getInitialState",value:function(){var b=c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"getInitialState",this).call(this);return this.canAct=!0,this.isDone=!1,b}},{key:"stepPlay",value:function(b){if(!i.__design__){var c=parseInt(this.state["data-delay"])||0;if(0===c&&(c=b||0),!isNaN(c)){this.canAct=!0,this.isDone=!1;var d=this;setTimeout(function(){d.isDone=!0;var a,b,c=d.canAct;c&&d.$onClick&&(a=d.getHtmlNode())&&"hidden"!=window.getComputedStyle(a).visibility&&(b=document.createEvent("Event"),b.target=a,d.$onClick(b)),c&&Array.isArray(d.state.trigger)&&l.fireTrigger(d)},1e3*c)}}}},{key:"stepPause",value:function(b){this.canAct=!1}},{key:"stepIsDone",value:function(){return this.isDone}},{key:"playOnEnter",value:function(){var b=this.state["data-auto"];return"true"==b||!!parseInt(b)}}]),g}(j.P_);j.rewgt.DelayTimer_=s,j.rewgt.DelayTimer=new s;var t="",u="",v=450,w=350,x=100,y=Math.floor(window.innerWidth/2),z=Math.floor(window.innerHeight/2),A=0,B=[],C={},D=null,E=null,F=Array.prototype.push,G=[0,0,0,0],H=["-prebuild-1","-prebuild-2","-prebuild-3","-prebuild-4","-prebuild-5"],I=[],J=!0;n.$onLoad.push(function(){function P(){if(B.length&&d.autoplay&&"number"==typeof d.autoplay){if(a.pageIndex>=B.length-1){if(!d.loopback)return;J=!1,o.classList.add("no-trans");for(var b=I.length-1;b>=0;b--){var c=I[b];if(c.widget&&c.isHooked&&c.widget.parent){E&&(Q(E,!0),E=null);var e=(c.state.margin||G).slice(0);e[0]=c.oldMarginT||0,e[3]=c.oldMarginL||0;var f={opacity:"",zIndex:(c.oldZindex||0)+""};f[u]="",c.duals.margin=e,c.duals.style=f}else I.splice(b,1)}setTimeout(function(){o.classList.remove("no-trans"),A=0,C={},D=null,E=null,a.gotoPage(0)},300)}else a.gotoPage(a.pageIndex+1);setTimeout(P,1e3*d.autoplay)}}function Q(a,b){var c=a.widget;c&&c.parent&&"function"==typeof a.stepPause&&a.stepPause(b?"JUMP_PAGE":"NEXT_PAGE")}function R(a){var b=a.state["data-prepost"],c="";if(!b)return c;var d=b.split("-");if(d.length>=2){var e=parseInt(d[0]),f=parseInt(d[1]);if(isNaN(e)||!(f>=1&&f<=5))return c;if(a.oldZindex=parseInt((a.state.style||{}).zIndex)||0,0==e||18==e||19==e){if(0==e&&d.length>=4){var g=parseInt(d[2]);13==g?a.duals.style={opacity:"0"}:11!=g&&12!=g||(a.duals.style={opacity:"0.98"})}var h=a.state.margin||G;c="prebuild-"+f,a.oldMarginL=h[3],a.oldMarginT=h[0]}else if(e>=1&&e<=17){var i=a.state.left||0,j=a.state.top||0,k=a.state.width||200,l=a.state.height||0;if(!l){var m=a.getHtmlNode();m&&(l=m.clientHeight||100)}var h=(a.state.margin||G).slice(0),n=h[3],o=h[0];if(e<=4)1==e?h[0]=-w-j-l:2==e?h[3]=v-i:3==e?h[0]=w-j:h[3]=-v-i-k,a.duals.margin=h,a.duals.style={opacity:"0"};else if(e<=8){var p={opacity:"0"};5==e?(h[0]=-w-j-l,h[3]=v-i,p[u]="rotate(-215deg) scale(0.2,0.2)"):6==e?(h[0]=w-j,h[3]=v-i,p[u]="rotate(215deg) scale(0.2,0.2)"):7==e?(h[0]=w-j,h[3]=-v-i-k,p[u]="rotate(-215deg) scale(0.2,0.2)"):(h[0]=-w-j-l,h[3]=-v-i-k,p[u]="rotate(215deg) scale(0.2,0.2)"),a.duals.margin=h,a.duals.style=p}else if(9==e){var p={opacity:"0"};p[u]="scale(0.1,0.1)",a.duals.style=p}else if(10==e){var p={opacity:"0"};p[u]="rotate(1800deg) scale(0.1,0.1)",a.duals.style=p}else if(e<=13)13==e?a.duals.style={opacity:"0"}:a.duals.style={opacity:"0.98"};else if(14==e){var p={};p[u]="scale(0.6,0.6)",a.duals.style=p}else if(15==e){var p={};p[u]="scale(0.8,0.8)",a.duals.style=p}else if(16==e){var p={};p[u]="scale(1.2,1.2)",a.duals.style=p}else{var p={};p[u]="scale(1.4,1.4)",a.duals.style=p}c="prebuild-"+f,a.oldMarginL=n,a.oldMarginT=o}}return c}function S(){var b,c,a=!1,d=this.getHtmlNode();if(d&&(b=this.widget)){if(D){if(D.parentNode){if(c=D.querySelector(".build > .to-build"))return W(b,c),!1;X(b,D)&&(a=!0)}D=null}var e=d.querySelectorAll('div.rewgt-center > [class*="prebuild-"]'),c=e[0];if(c){var f=null,g=c.getAttribute("data-prepost")||"";if(g.startsWith("0-")){var h=[c];c=null;for(var j,i=1;j=e[i];i++){var k=j.getAttribute("data-prepost")||"";if(!k.startsWith("0-")){c=j,g=k,f=e[i+1];break}h.push(j)}h.forEach(function(c){X(b,c)&&(a=!0)})}else f=e[1];var m=c&&l.keyOfNode(c);if(m){var n=b[m];if(n=n&&n.component,n&&(D=n.getHtmlNode())){var o=g.split("-"),p=o[0],q={opacity:""},r=(n.state.margin||G).slice(0);r[0]=n.oldMarginT||0,r[3]=n.oldMarginL||0,q[u]="";var s=!1;if("11"==p)q.zIndex=U(b)+"";else if("12"==p)q.zIndex=V(b)+"";else if("18"==p){if(s=!0,"function"==typeof n.stepPlay){var v=parseInt(o[1]||"3");n.stepPlay(v);var k=f&&f.getAttribute("data-prepost");k&&parseInt(k.split("-")[4])&&(E=n)}}else"19"==p&&(s=!0,"function"==typeof n.stepPause&&n.stepPause("PRE_STEP"));return s?l.removeClass(n,["prebuild-1","prebuild-2","prebuild-3","prebuild-4","prebuild-5"]):D.addEventListener(t,T(!0,b),!1),n.duals.margin=r,n.duals.style=q,!1}}}if(c=d.querySelector(".build > .to-build"))return W(b,c),!1}return!a&&E&&(Q(E,!1),E=null),!a}function T(a,b){var c=function(e){var f=e.target;f.removeEventListener(t,c),c=null;var g=b.parent&&b.component;if(g=g&&g.getHtmlNode()){var h=l.keyOfNode(f),i=h&&b[h];i=i&&i.component,i&&(a?(l.removeClass(i,["prebuild-1","prebuild-2","prebuild-3","prebuild-4","prebuild-5"]),setTimeout(function(){M(g)},300)):l.removeClass(i,["postbuild-1","postbuild-2","postbuild-3","postbuild-4","postbuild-5"]))}};return c}function U(a){var b=-999,c=0;return l.eachElement(a.component,function(d){var e,f=l.keyOfElement(d);if(f&&(e=a[f])&&(e=e.component)){c+=1;var g=parseInt(e.state.style.zIndex||"0");g>b&&(b=g)}}),0==c?0:b>=999?999:b+1}function V(a){var b=999,c=0;return l.eachElement(a.component,function(d){var e,f=l.keyOfElement(d);if(f&&(e=a[f])&&(e=e.component)){c+=1;var g=parseInt(e.state.style.zIndex||"0");g<b&&(b=g)}}),0==c?0:b<=-999?-999:b-1}function W(a,b){var c=b.parentNode,d=c.parentNode.classList.contains("rewgt-static");if(!d){var e=l.keyOfNode(c),f=l.keyOfNode(b),g=e&&a[e];if(g=g&&f&&g[f],g=g&&g.component)return void l.removeClass(g,"to-build")}b.classList.remove("to-build")}function X(a,b){function i(){var c=d.state.left||0,e=d.state.top||0,f=d.state.width||200,h=d.state.height||0;h||(h=b.clientHeight||100);var i=(d.state.margin||G).slice(0);if(g<=4)1==g?i[0]=-w-e-h:2==g?i[3]=v-c:3==g?i[0]=w-e:i[3]=-v-c-f,d.duals.margin=i,d.duals.style={opacity:"0"};else if(g<=8){var j={opacity:"0"};5==g?(i[0]=-w-e-h,i[3]=v-c,j[u]="rotate(-215deg) scale(0.2,0.2)"):6==g?(i[0]=w-e,i[3]=v-c,j[u]="rotate(215deg) scale(0.2,0.2)"):7==g?(i[0]=w-e,i[3]=-v-c-f,j[u]="rotate(-215deg) scale(0.2,0.2)"):(i[0]=-w-e-h,i[3]=-v-c-f,j[u]="rotate(215deg) scale(0.2,0.2)"),d.duals.margin=i,d.duals.style=j}else if(9==g){var j={opacity:"0"};j[u]="scale(0.1,0.1)",d.duals.style=j}else if(10==g){var j={opacity:"0"};j[u]="rotate(1800deg) scale(0.1,0.1)",d.duals.style=j}else if(g<=13){var j={opacity:"0.99"};11==g?j.zIndex=U(a)+"":12==g?j.zIndex=V(a)+"":j.zIndex=(d.oldZindex||0)+"",d.duals.style=j}else if(g<=17){var j={};14==g?j[u]="scale(0.6,0.6)":15==g?j[u]="scale(0.8,0.8)":16==g?j[u]="scale(1.2,1.2)":j[u]="scale(1.4,1.4)",d.duals.style=j}}var c=l.keyOfNode(b);if(!c)return!1;var d=a[c];if(d=d&&d.component,!d)return!1;var e=d.state["data-prepost"]||"",f=e.split("-");if(f.length>=4){var g=parseInt(f[2]),h=parseInt(f[3]);if(g>=1&&g<=17){if(h>=1&&h<=5)return l.setClass(d,H.concat(["postbuild-"+h])),setTimeout(function(){b.addEventListener(t,T(!1,a),!1),i()},300),!0}else{if(18==g)return l.setClass(d,H),"function"==typeof d.stepPlay&&d.stepPlay(h),!0;if(19==g)return l.setClass(d,H),"function"==typeof d.stepPause&&d.stepPause("POST_STEP"),!0}}return l.setClass(d,H),!1}if(o=k.containNode_,p=k.topmostWidget_,o&&p){var a=l.pageCtrl;if(!a){if(i.__design__)return;a=l.pageCtrl=new k.pageCtrl_([])}var b=l.vendorId||[],c=b[0]||"";"ie"==c?(t="MSTransitionEnd",b[1]?u="transform":(u="msTransform",console.log("!warning: IE version too low, please use IE11 or higher"))):"firefox"==c?(t="transitionend",u="transform"):"opera"==c?(t="oTransitionEnd",u="transform"):"chrome"==c||"safari"==c||"webkit"==c?(t="webkitTransitionEnd",u="WebkitTransform"):console.log("!fatal error: unknown web browser type");var d,e=!1,f=a.leftPanel,g=a.rightPanel;if(f&&g&&a.gotoPage_){d=L(),a.config&&(d=Object.assign({},a.config,d)),a.config=d,a.keys.length||(d.autoplay=!1),f.onclick=function(b){e=!1,a.prevPage()},g.onclick=function(b){e=!0,a.nextPage()},f.classList.add("wdgt-pgctrl"),f.classList.add("left"),g.classList.add("wdgt-pgctrl"),g.classList.add("right"),f.style.opacity="0.1",g.style.opacity="0.1";var m,h=window.innerWidth,j=window.innerHeight,n=!0,q=900,r=700,s=!1;d.size&&2==(m=(d.size+"").split("x")).length&&(q=parseFloat(m[0]),q=q<=0?0:q<=.9999?.9999==q?h:Math.floor(h*q):Math.max(200,q),r=parseFloat(m[1]),r<=0?(r=0,0==q&&(s=!0)):r=r<=.9999?.9999==r?j:Math.floor(j*r):Math.max(160,r),n=!1),s?(v=Math.floor(h/2),w=Math.floor(j/2),x=0):n?(v=h-20<q?Math.floor((h-20)/2):Math.floor(q/2),w=j-16<r?Math.floor((j-16)/2):Math.floor(r/2),x=Math.min(100,h-v-v&4294967294)):(0==q&&(q=h-20),v=Math.floor(q/2),0==r&&(r=j-16),w=Math.floor(r/2),x=Math.min(100,h-v-v&4294967294));var y;if(d.pageGap&&!isNaN(y=parseInt(d.pageGap))&&y>0&&(x=y),d.backgroundColor){var K=p.component;K&&(K.duals.style={backgroundColor:d.backgroundColor})}d.noSidebar?a.setDisplay({leftCtrlWidth:0,rightCtrlWidth:0}):setTimeout(function(){f.style.opacity="0",g.style.opacity="0",setTimeout(function(){f.style.opacity="0.1",g.style.opacity="0.1",setTimeout(function(){f.style.opacity="0",g.style.opacity="0"},500)},300)},1e3),d.noFrame&&o.classList.add("no-frame"),d.noTrans&&o.classList.add("no-trans"),d.noGround&&o.classList.add("no-ground"),d.noKeypress||document.addEventListener("keydown",function(b){var c=b.keyCode,d=!1;e=!1,b.ctrlKey||b.shiftKey||b.altKey||b.metaKey?!b.ctrlKey||b.shiftKey||b.altKey||b.metaKey?!b.metaKey||b.ctrlKey||b.shiftKey||b.altKey||(38==c?(a.gotoPage(0),d=!0):40==c&&(a.gotoPage(l.pageCtrl.keys.length-1),d=!0)):36==c?(a.gotoPage(0),d=!0):35==c&&(a.gotoPage(l.pageCtrl.keys.length-1),d=!0):39==c||40==c||34==c||13==c||32==c?(e=!0,a.nextPage(),d=!0):37!=c&&38!=c&&33!=c||(a.prevPage(),d=!0),d&&b.preventDefault()},!1),d.autoplay&&d.loopback||(J=!1),a.renewPages=function(b){var c=[],d={},e=[],f=[],g=a.keys,h=a.pageIndex;if(b.forEach(function(a){var b=a[0],g=a[1];parseInt(b)+""!==b&&(d[b]=c.length),g.whenSlideLeave||f.push([b,g,c.length]),c.push(b),e.push(g)}),g.forEach(function(a){c.indexOf(a)<0&&delete C[a]}),f.length&&A>0){o.classList.add("no-trans"),setTimeout(function(){o.classList.remove("no-trans")},100),z=Math.floor(window.innerHeight/2);var i=z-w,j=v+v,k=w+w,m=[];f.forEach(function(b){var c=b[0],d=b[1],e=b[2],f=a.initPage(d,c,e,j,k,i);F.apply(m,f)}),m.forEach(function(a){l.addClass(a[0],a[1])})}var n,p=g[h],q="string"==typeof p;if(a.keys=c,a.namedPage=d,B=e,q&&(n=c.indexOf(p))>=0)a.pageIndex=n;else{var r=0;if(q)for(var s=h-1;s>=0;s--){var t=g[s];if(t&&(n=c.indexOf(t))>=0){r=s;break}}c.length?setTimeout(function(){a.gotoPage(r)},300):a.pageIndex=0}},a.gotoPage_=function(b,c){var d=b[c],f=B[c];return d&&f?(N(a,c,e),e=!1,[d,f.widget]):["",null]},a.isFirstEnter=function(a){if(!a||!a.classList.contains("rewgt-scene"))return!1;var b=l.keyOfNode(a);return!!b&&(C[b]||0)<1},a.initPage=function(a,b,c,d,e,f){var g=[];a.whenSlideLeave||(a.whenSlideLeave=S);var h,i=a.getHtmlNode();if(i&&(h=a.widget)){for(var m,j=i.querySelectorAll("div.rewgt-center > [data-prepost]"),k=0;m=j[k];k++){var b=l.keyOfNode(m);if(b){var n=h[b];if(n=n&&n.component){var o=R(n);o&&(J&&I.push(n),g.push([n,o]))}}}j=i.querySelectorAll(".rewgt-static > .build, .rewgt-center > .build");for(var m,k=0;m=j[k];k++){var b,p=m.parentNode.classList.contains("rewgt-static"),q=null;!p&&(b=l.keyOfNode(m))&&(q=b&&h[b]);for(var s,r=0;s=m.children[r];r++)if(p)s.classList.add("to-build");else if(q&&(b=l.keyOfNode(s))){var n=q[b];n=n&&n.component,n&&l.addClass(n,"to-build")}}}return a.duals.width=d,a.duals.height=e,a.duals.top=f,a.duals.borderWidth=[1,1,1,1],g},a.enterPage=function(a,b,c){if(!i.__design__){E&&(Q(E,!0),E=null),D=null;var d;if(c&&(d=b.getHtmlNode())){for(var j,e=[],f=!1,g=d.querySelectorAll('div.rewgt-center > [class*="prebuild-"]'),h=0;j=g[h];h++){var k=j.getAttribute("data-prepost")||"",m=k.split("-");if(0==h&&parseInt(m[4])&&(f=!0),"18"===m[0]||"19"===m[0]||"18"===m[2]||"19"===m[2]){var n=l.keyOfNode(j);n&&e.push(n)}}var o;if(e.length&&(o=b.widget)&&setTimeout(function(){e.forEach(function(a){var b=o[a],c=b&&b.component;c&&"function"==typeof c.playOnEnter&&c.playOnEnter()&&"function"==typeof c.stepPlay&&c.stepPlay(0)})},300),f){var p=a.target;setTimeout(function(){M(p)},300)}}}};var O=d.page||0;"string"==typeof O&&(O=a.namedPage[O]||0),"number"!=typeof O&&(O=0),a.pageIndex=O,N(a,O,e),d.autoplay&&("number"!=typeof d.autoplay?d.autoplay=0:setTimeout(P,1e3*d.autoplay))}}})}();