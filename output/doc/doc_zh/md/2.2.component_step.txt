2.2 组件单步
--------------

&nbsp;

#### 配置 pre-step 与 post-step

pre-step 是指定组件在单步触发时展示的运行效果，因为运行效果是视觉直观可见的，该指定组件自然获得焦点，成为当前观察对象，pre-step 是被观察对象的**入场动画**。当下一次单步触发时，定义在当前观察对象上的 post-step 将自动触发，也有运行效果展示，这相当于焦点切换到下一组件前，当前被观察对象的**退场动画**。之后，由单步触发下一个有 pre-step 定义的组件展示入场动画，当然，如果本页其后不再有 pre-step 与 post-step 定义时，单步将蜕化为翻页操作。

现在动手实验一遍 pre-post 与 post-step 的配置过程，第一步，从资源页拖入段落 P 样板来创建一个组件，选中新组件，然后点击 Config pre-post step 浮动按钮 ![step](md/res/step_btn.png)，弹出如下窗口：

![config step](md/res/config_step.jpg)

上图左面竖栏用于配置 pre-step，右面竖栏配置 post-step，pre-step 提供 17 种入场动画，依序描述如下：

1. 从顶部渐入
2. 从右侧渐入
3. 从底部渐入
4. 从左侧渐入
5. 从右上角渐入
6. 从右下角渐入
7. 从左下角渐入
8. 从左上角渐入
9. 在原位渐显
10. 在原位旋转着渐显
11. 弹到顶层（原先可能被其它组件遮挡）
12. 压到底部（用其它组件挡住）
13. 恢复可见（选此配置时，系统先隐藏当前组件，触发时让它变可见）
14. 从 0.6 倍大小恢复到正常大小
15. 从 0.8 倍大小恢复到正常大小
16. 从 1.2 倍大小恢复到正常大小
17. 从 1.4 倍大小恢复到正常大小

post-step 的 17 种退场动画：

1. 往顶部渐消
2. 往右侧渐消
3. 往底部渐消
4. 往左侧渐消
5. 往右上角渐消
6. 往右下角渐消
7. 往左下角渐消
8. 往左上角渐消
9. 在原位渐消
10. 在原位旋转着渐消
11. 弹到顶层（原先可能被其它组件遮挡）
12. 压到底部（用其它组件挡住）
13. 恢复可见（恢复到设计时给定的层叠位置）
14. 渐变到 0.6 倍大小
15. 渐变到 0.8 倍大小
16. 渐变到 1.2 倍大小
17. 渐变到 1.4 倍大小

pre-step 我们选第二项 `"from right"`，post-step 也第四项 `"to left"`，然后用鼠标点击弹窗之外区域，弹窗自动关闭并让修改即时生效。不妨存盘，在另一页面打开文档，试验一下 pre-step 与 post-step 的运行效果。

#### 配置渐显与渐消的动画快慢

如上图 pre-post step 配置界面，pre-step 与 post-step 还可配置 5 档动画快慢选择，其中 `"normal"` 表示常规速度，缺省用这个选项。

#### 配置两个单步操作自动串接

在上图 pre-post step 配置界面，我们还可选择 `"join to previous step"` 选项，这配置项表示本组件的入场动画，紧挨着前一单步的入场动画自动触发，前后两个入场动画之间不留间隙。

不妨创建另一个段落 P 组件，配置后一组件的渐显自动串接前一单步操作，看看效果是否预期。

#### 改变各组件的单步顺序

pre-step 与 post-step 依附于组件定义，其单步顺序与组件的定义顺序相关，先定义的组件的单步将先动作。

有一个简便方法常用来调整单步顺序，两个组件中，先选中希望后触发单步的组件，然后按 `Cmd + X`（或 `Ctrl + X`）热键剪切，然后再按 `Cmd + V`（或 `Ctrl + V`）粘贴，剪切会删除原组件，粘贴将在当前页中新创建一个经复制的组件。这样，两个组件的定义顺序就强行重置了。重置多个组件的单步顺序，操作过程类似，依次选择各组件，都用两个热键复制一遍即可。

#### 连续多个 post step 能自动合并

仅设置 post step 的多个组件，如果它们的单步顺序是紧挨着的，它们的 post step 动作会自动合并，也就是同时生效。这个特性比较有用，比如，用于设计一次单步操作，让藏在一块挡板下的多个组件同时冒上来显示。

&nbsp;
